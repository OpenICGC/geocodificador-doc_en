{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"ICGC Geocoder","text":"<p>Geocoding is the process of turning addresses and place names into geographic coordinates.</p> <p>The ICGC Geocoder allows you to obtain the coordinates of a place located in Catalonia from its postal address, its name (toponym) or the kilometric point. It also allows the opposite operation, reverse geocoding, which consists of turning geographic coordinates into places and addresses. </p> <p>Connection URL: https://eines.icgc.cat/geocodificador</p> <p>The ICGC Geocoder is a Web Application Programming Interface API REST, embeddable into other applications, making it simple to add an address finder to a map viewer.</p>"},{"location":"#functions","title":"Functions","text":"<ul> <li>Search for postal addresses of the following types:<ul> <li>House number (street name + house number + municipality or llogaret).</li> <li>Isolated building (name of the isolated building + municipality or llogaret).</li> </ul> </li> <li>Search for streets (street name + municipality or llogaret).</li> <li>Get the bounding box of a street.</li> <li>Search for toponyms (name + municipality).</li> <li>Search for kilometric points (road number + km).</li> <li>Reverse geocoding: to get the list of places near a given latitude/longitude point.</li> <li>Search within a circular or rectangular geographic area.</li> <li>Search within a 'comarca' or a municipality.</li> <li>Narrow the search to certain types of toponyms.</li> <li>Prioritize results by proximity.</li> <li>Availability of two direct geocoding endpoints, which are advisable to combine:<ul> <li>autocompletar: to give real-time result suggestions without having to type the whole location</li> <li>cerca (whole search): Once the text has been completed, if the answers provided by autocompletar are not sufficient, a request can be made to the cerca operation.</li> </ul> </li> </ul> <p>It is recommended to use client libraries that incorporate these usage guidelines, such as Leaflet and the Nextzen (formerly Mapzen) plugin, as done in the example Viewer, implemented with Leaflet and explained in Map Viewer with queries to the ICGC Geocoding service</p>"},{"location":"#operations","title":"Operations","text":"<p>It has the following operations:</p> <ul> <li> <p>cerca (direct geocoding typing the whole location)</p> </li> <li> <p>autocompletar (direct geocoding without having to type the whole location)</p> </li> <li> <p>reverse (reverse geocoding)</p> </li> </ul>"},{"location":"#documentation","title":"Documentation","text":"<p>https://eines.icgc.cat/geocodificador/api-docs/</p>"},{"location":"#examples","title":"Examples","text":"<ul> <li>1.1 Search for a postal address</li> <li>1.2 Search for a toponym</li> <li>1.3 Reverse Geocoding</li> <li>1.4 Get the 'llogaret' to which an address belongs</li> <li>1.5 Search for a postal address according to the 'llogaret' </li> <li>1.6 Integration in a Leaflet viewer</li> <li>1.7 Prioritize the results closest to a point</li> <li>1.8 Narrow the search within a circular or rectangular geographic area</li> <li>1.9 Filter by toponym type</li> <li>1.10 Filter by 'comarca' or municipality</li> <li>1.11 Other integration examples</li> <li>1.12 Search for a kilometric point</li> </ul>"},{"location":"#viewer","title":"Viewer","text":"<p>Viewer</p>"},{"location":"documentacio/","title":"Documentation","text":"<p>https://eines.icgc.cat/geocodificador/api-docs/</p>"},{"location":"ex_adreca/","title":"1.1 Search for an address","text":"<p>You must type the address in the text parameter.</p> <p>For example, by typing nou 10,girona, we get the geographical coordinates of the address Carrer Nou 10, Girona: 2.82176174, 41.98273154: https://eines.icgc.cat/geocodificador/autocompletar?text=nou 10,girona&amp;size=1&amp;layers=address {target=\"_blank\"}</p> <p>The output is:</p> <p></p>"},{"location":"ex_area/","title":"1.8 Narrow the search within a circular or rectangular geographic area","text":"<p>The image shows Vissir application, where a query has been made to the geocoder to get the toponyms that contain the text library with coordinates within the indicated rectangle.</p> <p>Example query: text parameter is set to the item you want to find  and the coordinates of the rectangle are indicated in the boundary.rect parameters :</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;layers=topo1,topo2&amp;size=300&amp;boundary.rect.min_lon=2.790885602127&amp;boundary.rect.min_lat=41.951744582496&amp;boundary.rect.max_lon=2.847448636407&amp;boundary.rect.max_lat=42.012358869945</p> <p></p>"},{"location":"ex_comarca_municipi/","title":"1.10 Filter by 'comarca' or municipality","text":"<p>It is possible to restrict the search to a 'comarca' or a municipality, indicating the parameters com or mun.</p> <p>The com parameter allows you to specify the name of the 'comarca' or its identifier. The list of 'comarca' can be consulted in Table of 'comarca'</p> <p>The mun parameter allows you to specify the name of the municipality or its identifier. The list of municipalities can be consulted in Table of municipalities</p> <p>For example, the request https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;mun=girona searches for libraries in the municipality of Girona</p> <p>and the request https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;com=girones searches for libraries in the 'comarca' of Giron\u00e8s</p>"},{"location":"ex_integracio/","title":"1.11 Other ICGC Geocoder integration examples","text":"<p>The viewer https://eines.icgc.cat/geocodificador_visor/ integrates the ICGC geocoding API service using the Leaflet library.</p> <p>Below are other viewer examples of how to integrate the service into your applications with different technologies:</p> <p>Simple example viewer - Mapbox</p> <p>Uses node and jQuery. Easy to download and customize.</p> <p>It can be downloaded from: https://github.com/OpenICGC/visor_demo_geocoder .</p> <p>And to see the example of how it works: (https://openicgc.github.io/visor_demo_geocoder/#13.61/41.69589/1.88979).</p> <p>Integration with ESRI</p> <p>Widget that allows integration with ESRI.</p> <p>Widget code: https://github.com/OpenICGC/esri-geocodericgc-plugin.</p> <p>Example of use: https://openicgc.github.io/esri-geocodericgc-plugin/.</p> <pre><code>//Widget  \n&lt;script type=\"text/javascript\" src=\"js/cercadorPelias.js\"&gt;&lt;/script&gt;\n//Librerias ESRI\n&lt;div id=\"viewDiv\"&gt;&lt;/div&gt;\n&lt;script src=\"https://js.arcgis.com/4.14/\"&gt;&lt;/script&gt;\nrequire([       \n       \"esri/Graphic\",    //Per funcions relacionades amb cercador\n       \"esri/request\",    //Per funcions relacionades amb cercador\n       \"esri/views/MapView\",\n       \"esri/widgets/Search\",   //Per funcions relacionades amb cercador\n       \"esri/widgets/Search/SearchSource\",  //Per funcions relacionades amb cercador\n       \"esri/geometry/geometryEngine\",  //Per funcions relacionades amb cercador\n       \"esri/geometry/Point\",  //Per funcions relacionades amb cercador\n       \"esri/WebMap\",\n       \"esri/layers/Layer\",\n       \"esri/layers/MapImageLayer\",\n       \"esri/portal/Portal\",\n       \"esri/widgets/BasemapToggle\"\n     ], function(       \n       Graphic,\n       esriRequest,\n       MapView,\n       Search,\n       SearchSource,\n       geometryEngine,\n       Point,\n       WebMap,\n           Layer,\n       MapImageLayer,\n       Portal,\n       BasemapToggle\n     )...\n....\nvar searchWidget = new Search({\n   view: view,\n   //Geocodificador \n   sources: [customSearchSource(Graphic,esriRequest,MapView,Search,SearchSource,geometryEngine,Point)],\n\n   includeDefaultSources: false\n});\n// Add the search widget to the top left corner of the view       \nview.ui.add(searchWidget, {\n   position: \"top-right\"\n});\n</code></pre> <p>Integration with OpenLayers</p> <p>A control is created that allows integration with OpenLayers.</p> <p>Widget code: https://github.com/OpenICGC/openlayers-geocodericgc-plugin.</p> <p>Usage example: https://openicgc.github.io/openlayers-geocodericgc-plugin/</p> <pre><code>//Scripts i css \n&lt;link href=\"css/ol-geocodericgc.css\" rel=\"stylesheet\"&gt;\n&lt;script src=\"https://cdn.jsdelivr.net/npm/ol-geocoder\"&gt;&lt;/script&gt;\n&lt;script src=\"js/ol-geocodericgc.js\"&gt;&lt;/script&gt;\n\n//Instanciaci\u00f3n del control\nvar geocodericgc = new GeocoderICGC('icgc', { \n placeholder: 'Search for ...',\n targetType: 'text-input',\n limit: 5\n});\nmap.addControl(geocodericgc);\n\n//Capturar respuesta del geocodificador\ngeocodericgc.on('addresschosen', function(evt){\n var feature = evt.feature,\n     coord = evt.coordinate,\n     address = evt.address;\n // some popup solution\n content.innerHTML = '&lt;p&gt;'+ address.formatted +'&lt;/p&gt;';\n overlay.setPosition(coord);\n});\n</code></pre>"},{"location":"ex_invers/","title":"1.3 Reverse geocoding","text":"<p>To find the addresses and toponyms closest to a point, you must indicate its geographic coordinates in the lon and lat parameters.</p> <p>For example, by specifying the coordinates 2.82176174, 41.98273154, we get the postal addressCarrer Nou 10, Girona: https://eines.icgc.cat/geocodificador/invers?lon=2.82176174&amp;lat=41.98273154&amp;size=1&amp;layers=address</p> <p>The output is:</p> <p></p>"},{"location":"ex_llogaret1/","title":"1.4 Get the 'llogaret' an address belongs to","text":"<p>By searching for a postal address, we can obtain the llogaret (village or population center) to which it belongs. This information appears in the llogaret field and at the end of the label field, between parentheses.</p> <p>For example, when searching for the address carrer de l'esglesia 1, la vall de boi, we get the 3 portals that are in the towns of Durro, Barruera and Ta\u00fcll, belonging to the municipality la Vall de Bo\u00ed.</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=carrer%20de%20l%27esglesia%201,la%20vall%20de%20boi&amp;layers=address&amp;size=6</p> <p></p> <p>The output is:</p> <p></p>"},{"location":"ex_llogaret2/","title":"1.5 Search for a postal address according to the 'llogaret'","text":"<p>It is possible to indicate the name of the 'llogaret' in the query, instead of the name of the municipality.</p> <p>For example, indicating carrer de l'esglesia 1,durro, we narrow the search to  carrer Esglesia 1 in the 'llogaret' Durro, in the municipality la Vall de Bo\u00ed:</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=carrer%20de%20l%27esglesia%201,durro&amp;layers=address </p> <p>The output is:</p> <p></p>"},{"location":"ex_pk/","title":"1.2 Search for a kilometric point","text":"<p>The kilometric point to be searched must be indicated in the text parameter.</p> <p>If the layers parameter is specified, it must have the value pk.</p> <p>For example, by indicating C-25 143.0, we get the geographical coordinates of the kilometric point (1.90750462, 41.78388114&lt;/ span&gt;).  <p>https://eines.icgc.cat/geocodificador/autocompletar?text=C-25 143.0&amp;layers=pk&amp;size=1</p> <p>The result is:</p> <p></p>"},{"location":"ex_prioritzar/","title":"1.7 Prioritize results by proximity","text":"<p>In the previous viewer https://eines.icgc.cat/geocodificador_visor/  you can activate the box to prioritize the results closest to the center of the map, so that, if the map is centered on the municipality of Girona, when typing Biblioteca we get Girona libraries.</p> <p>An example query is the following, where the coordinates of the center point of the map are set in the parameters focus.point.lat and focus.point.lon: https://eines.icgc.cat/geocodificador/autocompletar?text=bibli&amp;focus.point.lat=41.430371882652814&amp;focus.point.lon=1.8539428710937502&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5, where the text to be searched for and the point for which the answers are to be prioritized are indicated </p>"},{"location":"ex_tipus/","title":"1.9 Filter by toponym type","text":"<p>It is possible to indicate the type of toponym to search for.</p> <p>For example, the following request searches for place names with the text aliga and Cim type: http://eines.icgc.cat/geocodificador/autocompletar?text=aliga&amp; layers=topo_tipus_08&amp;size=3 .</p> <p>As seen in the example, the toponym type Cim has the identifier topo_tipus_08.</p> <p>The table with the types of toponyms and their identifiers can be consulted at Toponyms table</p>"},{"location":"ex_toponim/","title":"1.2 Search for a toponym","text":"<p>The toponym to be searched must be indicated in the text parameter.</p> <p>For example, indicating can massot,fornells, we obtain the geographical coordinates of the toponym Can Massot, Fornells de la Selva: 2.79217122, 41.92888483: https://eines.icgc.cat/geocodificador/autocompletar?text=can%C2%A0massot,fornells&amp;layers=tops&amp;size=1</p> <p>The output is:</p> <p></p>"},{"location":"ex_visor/","title":"1.6 Integration in a Leaflet viewer","text":"<p>The following image shows the viewer https://eines.icgc.cat/geocodificador_visor/, implemented with Leaflet, which contains a search engine for addresses and toponyms, where as the user types the text to be searched, requests are sent to the geocoding service, until the desired item and its location on the map are found.</p> <p>Submitted requests use the autocompletar operation with the text parameter containing the text entered by the user. </p> <p>An example of these requests is https://eines.icgc.cat/geocodificador/autocompletar?text=nou%203&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5</p> <p>Viewer with queries to the ICGC Geocoding service explains in detail how to access the viewer and how it has been implemented.</p> <p>It can be downloaded from: https://github.com/OpenICGC/leaflet-geocodericgc-plugin </p>"},{"location":"parametres_autocompletar/","title":"Search with autocomplete","text":"<p>Connection URL: https://eines.icgc.cat/geocodificador/autocompletar (GET)</p>"},{"location":"parametres_autocompletar/#description","title":"Description","text":"<p>The autocompletar operation gives real-time result suggestions without having to type the whole location: as text is entered in the search box, requests are sent to autocompletar, in order to find answers quickly.</p> <p>It is essential to indicate the text to search for in the text parameter.</p> <p>The result is obtained in GeoJSON format.</p> <p>When integrating into other applications, it is recommended to combine autocompletar and cerca:</p> <ul> <li>as the user types the text to search, send requests to autocompletar, in order to find answers quickly.</li> <li>once the text has been completed, if the answers provided by autocompletar are not enough, you can press the [Enter] key and make a request to cerca operation.</li> </ul> <p>Since requests to autocompletar generally respond directly to text input by the user, typing speed must be taken into account in order not to crash the requests.</p> <p>It is also necessary to take into account that the responses can be asynchronous and not in the same order in which they were sent.</p> <p>To search for the coordinates corresponding to the toponym can masso,barcelona you must make the request https://eines.icgc.cat/geocodificador/autocompletar?text=can%20masso,barcelona&amp;layers=tops&amp;size=1, which has the answer:  </p>"},{"location":"parametres_autocompletar/#building-the-query","title":"Building the query","text":"<p>The request to the API is built from the URL https://eines.icgc.cat/geocodificador/autocompletar, followed by the sign ? and the sequence of parameters, separated by the sign &amp;.</p> <p>The parameters are as follows:</p> <ul> <li>text: Contains the text to search for. It is a mandatory parameter.</li> </ul> <p>It is important to note that you must separate the name of the municipality with a comma, as follows: <ul> <li> <p>name_of_street housenumber, municipality <li> <p>name_of_isolated_edifice, municipality <li> <p>toponym, municipality <li> <p>road, km (o road km) <p>Examples:</p> <pre><code>- [https://eines.icgc.cat/geocodificador/autocompletar?text=nou 10,girona](https://eines.icgc.cat/geocodificador/autocompletar?text=nou 10,girona){target=\"_blank\"}\n\n- [https://eines.icgc.cat/geocodificador/autocompletar?text=can riera,Vilademuls&amp;layers=address](https://eines.icgc.cat/geocodificador/autocompletar?text=can riera,Vilademuls&amp;layers=address){target=\"_blank\"}\n\n- [https://eines.icgc.cat/geocodificador/autocompletar?text=montclar,riudecanyes](https://eines.icgc.cat/geocodificador/autocompletar?text=montclar,riudecanyes){target=\"_blank\"}\n\n- [https://eines.icgc.cat/geocodificador/autocompletar?text=c-25 143.0&amp;layers=pk](https://eines.icgc.cat/geocodificador/autocompletar?text=c-25 143.0&amp;layers=pk){target=\"_blank\"}\n</code></pre> <ul> <li>layers: Filter by data type</li> </ul> <p>The types of data to search can be differentiated by indicating the layers parameter, with the following values:</p> <p>.address: postal addresses</p> <p>. tops: all toponyms</p> <p>.topo_tipus_id: toponyms of type id, where id is a string of numbers between 1 and 22, adding leading 0 if less than 10. For example: topo_tipus_01 to search for Caps de municipi. The table with the types of toponyms and their identifiers can be consulted at Toponyms table</p> <p>The following values \u200b\u200bcan be indicated to segregate the toponyms into two groups:</p> <p>.topo1: toponyms referring to population groups (municipalities, capitals of municipalities, population entities, disseminated and neighborhoods)</p> <p>.topo2: rest of toponyms.</p> <p>.pk: kilometric point.</p> <p>Example, to find toponyms with the name Riera de Gai\u00e0:\u00a0https://eines.icgc.cat/geocodificador/autocompletar?text=riera%20de%20gaia&amp;layers=topo1,topo2</p> <ul> <li>size: is used to define the maximum number of results</li> </ul> <p>By default, up to 10 results of each of the types indicated in layers are returned. A different number can be specified with the size parameter. The maximum value is 40.</p> <p>For example, to find a single place name:\u00a0https://eines.icgc.cat/geocodificador/autocompletar?text=riera%20de%20gaia&amp;layers=topo1&amp;size=1</p> <ul> <li>boundary.rect.min_lon,\u00a0boundary.rect.min_lat,\u00a0boundary.rect.max_lon i\u00a0boundary.rect.max_lat: to search in a rectangular area</li> </ul> <p>You can spatially limit the search by indicating the latitude and longitude coordinates of a rectangle with these parameters.</p> <pre><code>Example:\u00a0[https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;layers=topo1,topo2&amp;size=300&amp;boundary.rect.min_lon=2.790885602127&amp;boundary.rect.min_lat=41.951744582496&amp;boundary.rect.max_lon=2.847448636407&amp;boundary.rect.max_lat=42.012358869945](https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;layers=topo1,topo2&amp;size=300&amp;boundary.rect.min_lon=2.790885602127&amp;boundary.rect.min_lat=41.951744582496&amp;boundary.rect.max_lon=2.847448636407&amp;boundary.rect.max_lat=42.012358869945){target=\"_blank\"}\n</code></pre> <ul> <li>boundary.circle.lon,\u00a0boundary.circle.lat,\u00a0boundary.circle.radius:to search in a circular area</li> </ul> <p>The search can be spatially limited by specifying the coordinates of a circle with the parameters boundary.circle.lon and boundary.circle.lat (center) and the parameter boundary.circle. radius (radius in km).</p> <pre><code>Example:\u00a0[https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;layers=topo1,topo2&amp;size=5&amp;boundary.circle.lon=2.815683&amp;boundary.circle.lat=41.976216&amp;boundary.circle.radius=3](https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;layers=topo1,topo2&amp;size=5&amp;boundary.circle.lon=2.815683&amp;boundary.circle.lat=41.976216&amp;boundary.circle.radius=3){target=\"_blank\"}\n</code></pre> <ul> <li>focus.point.lat,\u00a0focus.point.lon: prioritization of results by proximity</li> </ul> <p>To prioritize the results closest to some coordinates, you must indicate them with these parameters.</p> <pre><code>Example:\u00a0[http://localhost:3300/autocompletar?text=biblioteca&amp;focus.point.lat=41.972509114053196&amp;focus.point.lon=2.828636169433594&amp;layers=topo1%2Ctopo2&amp;size=5](http://localhost:3300/autocompletar?text=biblioteca&amp;focus.point.lat=41.972509114053196&amp;focus.point.lon=2.828636169433594&amp;layers=topo1%2Ctopo2&amp;size=5){target=\"_blank\"}\n</code></pre> <ul> <li>com: to filter by 'comarca'</li> </ul> <p>The com parameter allows you to specify the name of the 'comarca' or its identifier.</p> <p>You can consult the list of 'comarca' in Table of regions</p> <p>Examples:</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;com=girones ( indicating the name of the 'comarca')</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;com=20 ( indicating 'comarca''s identifier)</p> <ul> <li>mun: to filter by municipality</li> </ul> <p>The mun parameter allows you to specify the name of the municipality or its identifier.</p> <p>The list of municipalities can be consulted at Table of municipalities</p> <p>Examples:</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;mun=girona ( indicating the name of the municipality)</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;mun=170792 ( indicating municipality's identifier)</p>"},{"location":"parametres_autocompletar/#input-parameters","title":"Input parameters","text":"Parameter Type Mandatory Description Default value Example text text string Yes Text to search Riera de Sallent focus.point.lat floating point number No Latitude of the point for which you want to prioritize the results 41.430371882652814 focus.point.lon floating point number No Length of the point by which you want to prioritize the results 1.8566894531250002 layers text string No Type of elements to search: [address, tops, topo_tipus_id, topo1, topo2, pk] topo1,topo2,address,pk address,topo1 size integer No Number of results. The maximum is 40 10 5 com text string No Identifier of a 'comarca', within which you want to restrict the search 01 mun text string No Identifier of a municipality, within which you want to restrict the search 080018 boundary.circle.lat floating point number No Latitude of search circle point 41.430371882652814 boundary.circle.lon floating point number No Search circle point length 2.81233 boundary.circle.radius floating point number No search circle radius (km) 10 boundary.rect.min_lat floating point number No Latitude of bottom edge of search rectangle 41.909303728668824 boundary.rect.min_lon floating point number No Length of bottom edge of search rectangle 2.694053649902344 boundary.rect.max_lat floating point number No Latitude of top edge of search rectangle 42.01142264969458 boundary.rect.max_lon floating point number No Length of the top edge of the search rectangle 2.911033630371094"},{"location":"parametres_autocompletar/#output-parameters","title":"Output parameters","text":"<p>Results are returned in GeoJSON format.</p> <p>The features.properties element has the fields described in the following table:</p> Field Description Applicable to elements layer Type of element. The possible values \u200b\u200bare those indicated in the input layers parameter All etiqueta Field Aggregation. By address: portal street, municipality ('llogaret'). Note: If the 'llogaret' coincides with the municipality, it is not indicated. By place names: place name, municipality.By kilometric point: road km All municipi Municipality. In some toponyms, there is no municipality assigned and it takes the value \"-\" Addresses and toponyms id_municipi Municipi ID. In some toponyms, there is no municipality assigned and it takes the value \"\" Addresses and toponyms comarca 'comarca'. In some toponyms, there is no 'comarca' assigned and it takes the value \"-\" Addresses and toponyms id_comarca 'comarca' ID. In some toponyms, there is no 'comarca' assigned and it takes the value \"\" Addresses and toponyms llogaret 'llogaret' Addresses portal Housenumber of the address Addresses nom Name of the street, isolated building or toponym Addresses and toponyms tipus_via Street type Addresses codi_postal Postal code Addresses distancia Distance in kilometers to the point indicated with the fields focus.point.lat, focus.point.lon All addendum.origin Scale origin Place names addendum.zoom Optimum zoom level Place names addendum.tipus Toponym type Place names addendum.id_tipus Toponym type identifier Place names addendum.municipis_extra Other municipalities assigned Place names addendum.bbox Geographic coordinates of the rectangle containing the street Addresses addendum.bbox_utm UTM coordinates of the rectangle containing the street Addresses via Road ID Kilometric point km KM (to 1 decimal places) Kilometric point"},{"location":"parametres_autocompletar/#output-examples-according-to-layer-type","title":"Output examples according to layer type","text":"Postal address https://eines.icgc.cat/geocodificador/autocompletar?text=nou%2010%20girona&amp;layers=address&amp;size=1 Toponym https://eines.icgc.cat/geocodificador/autocompletar?text=serra%20de%20pava&amp;layers=tops&amp;size=1 Kilometric point https://eines.icgc.cat/geocodificador/autocompletar?text=c-25%20143.0&amp;layers=pk&amp;size=1"},{"location":"parametres_cerca/","title":"Search by indicating the whole address","text":"<p>Connection URL: https://eines.icgc.cat/geocodificador/cerca (GET)</p>"},{"location":"parametres_cerca/#description","title":"Description","text":"<p>The cerca operation (Forward geocoding) returns the data and location of an address, a toponym or a kilometric point.</p> <p>In the simplest search, you can build a query where the text parameter is set to the item you want to find.</p> <p>The output is in GeoJSON format.</p> <p>For example, to search for the coordinates corresponding to the address carrer nou 10,girona, you should send the query https://eines.icgc.cat/geocodificador/cerca?text=carrer nou 10,girona&amp;layers=address&amp;size=1, which has the answer: </p>"},{"location":"parametres_cerca/#building-the-query","title":"Building the query","text":"<p>The request to the API is built from the URL https://eines.icgc.cat/geocodificador/cerca, adding one ? (question mark) and the sequence of parameters, separated by an ampersand (&amp;).</p> <p>The parameters are:</p> <ul> <li>text: Contains the text to search for. It is a mandatory parameter.</li> </ul> <p>It is important to note that you must separate the name of the municipality with a comma, as follows: <ul> <li> <p>name_of_street housenumber, municipality <li> <p>name_of_isolated_edifice, municipality <li> <p>toponym, municipality <li> <p>road, km (or road km) <p>Examples:</p> <pre><code>- [https://eines.icgc.cat/geocodificador/cerca?text=nou 10,girona&amp;layers=address](https://eines.icgc.cat/geocodificador/cerca?text=nou 10,girona&amp;layers=address){target=\"_blank\"}\n\n- [https://eines.icgc.cat/geocodificador/cerca?text=can riera,Vilademuls&amp;layers=topo2](https://eines.icgc.cat/geocodificador/cerca?text=can riera,Vilademuls&amp;layers=topo2){target=\"_blank\"}\n\n- [https://eines.icgc.cat/geocodificador/cerca?text=montclar,riudecanyes&amp;layers=topo1](https://eines.icgc.cat/geocodificador/cerca?text=montclar,riudecanyes&amp;layers=topo1){target=\"_blank\"}\n\n- [https://eines.icgc.cat/geocodificador/cerca?text=c-25 143.0&amp;layers=pk](https://eines.icgc.cat/geocodificador/cerca?text=c-25 143.0&amp;layers=pk){target=\"_blank\"}\n</code></pre> <ul> <li>layers: Filter by data type</li> </ul> <p>The types of data to search can be differentiated by indicating the layers parameter, with the following values:</p> <p>.address: postal addresses</p> <p>. tops: all toponyms</p> <p>.topo_tipus_id: toponyms of type id, where id is a string of numbers between 1 and 22, adding leading 0 if less than 10. For example: topo_tipus_01 to search for Caps de municipi. The table with the types of toponyms and their identifiers can be consulted at Toponyms table</p> <p>The following values \u200b\u200bcan be indicated to segregate the toponyms into two groups:</p> <p>.topo1: toponyms referring to population groups (municipalities, capitals of municipalities, population entities, disseminated and neighborhoods)</p> <p>.topo2: rest of toponyms.</p> <p>.\u00a0pk: kilometric point.</p> <p>Example, to find toponyms with the name Riera de Gai\u00e0:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=riera%20de%20gaia&amp;layers=topo1,topo2</p> <ul> <li>size: is used to define the maximum number of results</li> </ul> <p>By default, up to 10 results of each of the types indicated in layers are returned. A different number can be specified with the size parameter. The maximum value is 40.</p> <p>For example, to find a single place name:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=riera%20de%20gaia&amp;layers=topo1&amp;size=1</p> <ul> <li>boundary.rect.min_lon,\u00a0boundary.rect.min_lat,\u00a0boundary.rect.max_lon i\u00a0boundary.rect.max_lat: to search within a rectangular area</li> </ul> <p>You can spatially limit the search by indicating the latitude and longitude coordinates of a rectangle with these parameters.</p> <pre><code>Example:\u00a0[https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;layers=topo1,topo2&amp;size=300&amp;boundary.rect.min_lon=2.790885602127&amp;boundary.rect.min_lat=41.951744582496&amp;boundary.rect.max_lon=2.847448636407&amp;boundary.rect.max_lat=42.012358869945](https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;layers=topo1,topo2&amp;size=300&amp;boundary.rect.min_lon=2.790885602127&amp;boundary.rect.min_lat=41.951744582496&amp;boundary.rect.max_lon=2.847448636407&amp;boundary.rect.max_lat=42.012358869945){target=\"_blank\"}\n</code></pre> <ul> <li>boundary.circle.lon,\u00a0boundary.circle.lat,\u00a0boundary.circle.radius:to search within a circular area</li> </ul> <p>The search can be spatially limited by specifying the coordinates of a circle with the parameters boundary.circle.lon and boundary.circle.lat (center) and the parameter boundary.circle. radius (radius in km).</p> <pre><code>Example:\u00a0[https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;layers=topo1,topo2&amp;size=5&amp;boundary.circle.lon=2.815683&amp;boundary.circle.lat=41.976216&amp;boundary.circle.radius=3](https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;layers=topo1,topo2&amp;size=5&amp;boundary.circle.lon=2.815683&amp;boundary.circle.lat=41.976216&amp;boundary.circle.radius=3){target=\"_blank\"}\n</code></pre> <ul> <li>focus.point.lat,\u00a0focus.point.lon: prioritization of results by proximity</li> </ul> <p>To prioritize the results closest to some coordinates, you must indicate them with these parameters.</p> <pre><code>Example:\u00a0[https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;focus.point.lat=41.972509114053196&amp;focus.point.lon=2.828636169433594&amp;layers=topo1%2Ctopo2&amp;size=5](https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;focus.point.lat=41.972509114053196&amp;focus.point.lon=2.828636169433594&amp;layers=topo1%2Ctopo2&amp;size=5){target=\"_blank\"}\n</code></pre> <ul> <li>com: to filter by 'comarca'</li> </ul> <p>The com parameter allows you to specify the name of the 'comarca' or its identifier.</p> <p>You can consult the list of 'comarca' in Table of comarcas</p> <p>Examples:</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;com=girones ( indicating the name of the 'comarca')</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;com=20 ( indicating 'comarca''s identifier)</p> <ul> <li>mun: to filter by municipality</li> </ul> <p>The mun parameter allows you to specify the name of the municipality or its identifier.</p> <p>The list of municipalities can be consulted at Table of municipalities</p> <p>Examples:</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;mun=girona ( indicating the name of the municipality)</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;mun=170792 ( indicating municipality's identifier)</p>"},{"location":"parametres_cerca/#input-parameters","title":"Input parameters","text":"Parameter Type Mandatory Description Default value Example text text string Yes Text to search Riera de Sallent focus.point.lat floating point number No Latitude of the point for which you want to prioritize the results 41.430371882652814 focus.point.lon floating point number No Length of the point by which you want to prioritize the results 1.8566894531250002 layers text string No Type of elements to search: [address, tops, topo_tipus_id, topo1, topo2, pk] topo1,topo2,address,pk address,topo1 size integer No Number of results. The maximum is 40 10 5 com text string No Identifier of a 'comarca', within which you want to restrict the search 01 mun text string No Identifier of a municipality, within which you want to restrict the search 080018 boundary.circle.lat floating point number No Latitude of search circle point 41.430371882652814 boundary.circle.lon floating point number No Search circle point length 2.81233 boundary.circle.radius floating point number No search circle radius (km) 10 boundary.rect.min_lat floating point number No Latitude of bottom edge of search rectangle 41.909303728668824 boundary.rect.min_lon floating point number No Length of bottom edge of search rectangle 2.694053649902344 boundary.rect.max_lat floating point number No Latitude of top edge of search rectangle 42.01142264969458 boundary.rect.max_lon floating point number No Length of the top edge of the search rectangle 2.911033630371094"},{"location":"parametres_cerca/#output-parameters","title":"Output parameters","text":"<p>Results are returned in GeoJSON format.</p> <p>The features.properties element has the fields described in the following table:</p> Field Description Applicable to elements layer Type of element. The possible values \u200b\u200bare those indicated in the input layers parameter All etiqueta Field Aggregation. By address: portal street, municipality ('llogaret'). Note: If the 'llogaret' coincides with the municipality, it is not indicated. By place names: place name, municipality.By kilometric point: road km All municipi Municipality. In some toponyms, there is no municipality assigned and it takes the value \"-\" Addresses and toponyms id_municipi Municipi ID. In some toponyms, there is no municipality assigned and it takes the value \"\" Addresses and toponyms comarca 'comarca'. In some toponyms, there is no 'comarca' assigned and it takes the value \"-\" Addresses and toponyms id_comarca 'comarca' ID. In some toponyms, there is no 'comarca' assigned and it takes the value \"\" Addresses and toponyms llogaret 'llogaret' Addresses portal Housenumber of the address Addresses nom Name of the street, isolated building or toponym Addresses and toponyms tipus_via Street type Addresses codi_postal Postal code Addresses distancia Distance in kilometers to the point indicated with the fields focus.point.lat, focus.point.lon All addendum.origin Scale origin Place names addendum.zoom Optimum zoom level Place names addendum.tipus Toponym type Place names addendum.id_tipus Toponym type identifier Place names addendum.municipis_extra Other municipalities assigned Place names addendum.bbox Geographic coordinates of the rectangle containing the street Addresses addendum.bbox_utm UTM coordinates of the rectangle containing the street Addresses via Road ID Kilometric point km KM (to 1 decimal places) Kilometric point"},{"location":"parametres_cerca/#output-examples-according-to-layer-type","title":"Output examples according to layer type","text":"Postal address https://eines.icgc.cat/geocodificador/cerca?text=nou%2010%20girona&amp;layers=address&amp;size=1 Toponym https://eines.icgc.cat/geocodificador/cerca?text=el%20tibidabo%20,Barcelona&amp;layers=tops&amp;size=1 Kilometric point https://eines.icgc.cat/geocodificador/cerca?text=c-25%20143.0&amp;layers=pk&amp;size=1"},{"location":"parametres_invers/","title":"Reverse search","text":"<p>Connection URL: https://eines.icgc.cat/geocodificador/invers (GET)</p>"},{"location":"parametres_invers/#description","title":"Description","text":"<p>The invers operation (reverse geocoding) searches for the closest addresses, place names or kilometric points to a given geographic point, specified by its latitude and longitude.</p> <p>The result is obtained in GeoJSON format.</p> <p>For example, to search for the address closest to the coordinates 41.385965, 2.16687, you must make the request https://eines.icgc.cat/geocodificador/invers?lat=41.385965&amp;lon=2.16687&amp;size=1&amp;layers= address, which has the answer: </p>"},{"location":"parametres_invers/#building-the-query","title":"Building the query","text":"<p>The API request is built from the URL https://eines.icgc.cat/geocodificador/invers, followed by the ? sign and the sequence of parameters, separated by the sign &amp;.</p> <p>The parameters are as follows:</p> <ul> <li> <p>lon, lat: are mandatory and contain the coordinates of the geographical point around which the search is to be made.</p> <p>Example:\u00a0http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206 </p> </li> <li> <p>boundary.circle.radius: indicates the radius of the search circle (in km).</p> <p>Example: http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops&amp;size=10&amp;boundary.circle.radius=0.4</p> </li> <li> <p>layers: Filter by data type</p> </li> </ul> <p>The types of data to search can be differentiated by indicating the layers parameter, with the following values:</p> <p>.address: postal addresses</p> <p>. tops: all toponyms</p> <p>.topo_tipus_id: toponyms of type id, where id is a string of numbers between 1 and 22, adding leading 0 if less than 10. For example: topo_tipus_01 to search for Caps de municipi. The table with the types of toponyms and their identifiers can be consulted at Toponyms table</p> <p>The following values \u200b\u200bcan be indicated to segregate the toponyms into two groups:</p> <p>.topo1: toponyms referring to population groups (municipalities, capitals of municipalities, population entities, disseminated and neighborhoods)</p> <p>.topo2: rest of toponyms.</p> <p>.pk: kilometric point.</p> <pre><code>Example, to find toponyms: [http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops](http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops){target=\"_blank\"}\n</code></pre> <ul> <li>size: is used to define the maximum number of results</li> </ul> <p>By default, up to 10 results of each of the types indicated in layers are returned. A different number can be specified with the size parameter. The maximum value is 40.</p> <p>For example, to find a single place name:\u00a0http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops&amp;size=1</p> <ul> <li>com: to filter by 'comarca'</li> </ul> <p>The com parameter allows you to specify the name of the 'comarca' or its identifier.</p> <p>You can consult the list of 'comarca' in Table of regions</p> <p>Examples:</p> <p>https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;com=barcelones ( indicating the name of the 'comarca')</p> <p>https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;com=13 ( indicating 'comarca''s identifier)</p> <ul> <li>mun: to filter by municipality</li> </ul> <p>The mun parameter allows you to specify the name of the municipality or its identifier.</p> <p>The list of municipalities can be consulted at Table of municipalities</p> <p>Examples:</p> <pre><code>[https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;mun=barcelona](https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;mun=barcelona){target=\"_blank\"}\u00a0 ( indicating the name of the municipality)\n\n[ https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;mun=080193]( https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;mun=080193){target=\"_blank\"} ( indicating municipality's identifier)\n</code></pre>"},{"location":"parametres_invers/#input-parameters","title":"Input parameters","text":"Parameter Type Mandatory Description Default value Example lat floating point number Yes latitude 41.385965 lon floating point number Yes longitude 2.094256 boundary.circle.radius floating point number No search circle radius (km) 1 0.5 layers text string No Type of elements to search: [address, tops, topo_tipus_id, topo1, topo2, pk] topo1,topo2,address,pk address,topo1 size integer No Number of results. The maximum is 40 10 5 com text string No Identifier of a 'comarca'', within which you want to restrict the search none 01 mun text string No Identifier of a municipality, within which you want to restrict the search none 080018"},{"location":"parametres_invers/#output-parameters","title":"Output parameters","text":"<p>Results are returned in GeoJSON format.</p> <p>The features.properties element has the fields described in the following table:</p> Field Description Applicable to elements layer Type of element. The possible values \u200b\u200bare those indicated in the input layers parameter All etiqueta Field Aggregation. By address: portal street, municipality ('llogaret'). Note: If the 'llogaret' coincides with the municipality, it is not indicated. By place names: place name, municipality.By kilometric point: road km All municipi Municipality. In some toponyms, there is no municipality assigned and it takes the value \"-\" Addresses and toponyms id_municipi Municipi ID. In some toponyms, there is no municipality assigned and it takes the value \"\" Addresses and toponyms comarca 'comarca'. In some toponyms, there is no 'comarca' assigned and it takes the value \"-\" Addresses and toponyms id_comarca 'comarca' ID. In some toponyms, there is no 'comarca' assigned and it takes the value \"\" Addresses and toponyms llogaret 'llogaret' Addresses portal Housenumber of the address Addresses nom Name of the street, isolated building or toponym Addresses and toponyms tipus_via Street type Addresses codi_postal Postal code Addresses addendum.origin Scale origin Place names addendum.zoom Optimum zoom level Place names addendum.tipus Toponym type Place names addendum.id_tipus Toponym type identifier Place names addendum.municipis_extra Other municipalities assigned Place names addendum.bbox Geographic coordinates of the rectangle containing the street Addresses addendum.bbox_utm UTM coordinates of the rectangle containing the street Addresses via Road ID Kilometric point km KM (to 1 decimal places) Kilometric point"},{"location":"parametres_invers/#output-examples-according-to-layer-type","title":"Output examples according to layer type","text":"Postal address https://eines.icgc.cat/geocodificador/invers?lon=2.13798&amp;lat=41.4271&amp;layers=address&amp;size=1 Toponym https://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops&amp;size=1 Kilometric point https://eines.icgc.cat/geocodificador/invers?lon=1.90750462&amp;lat=41.78388114&amp;layers=pk&amp;size=1"},{"location":"tipusToponims/","title":"Types of toponyms","text":"<p>The table shows the different types of toponyms, which can be indicated to filter the results.</p> <p>More information in Filter according to toponym type</p> ID Type Concept 01 'Cap de municipi' Capital of municipality 02 'Municipi Municipality (only when the name does not coincide with that of its Capital) 03 'Entitat de poblaci\u00f3' Population entity 04 'Edificaci\u00f3' Isolated building 06 'Mass\u00eds, Serra' Massif, mountain range 07 'Orografia' Relief and topography (plain, valley...) 08 'Cim' Peak, peak, hill 10 'Relleu del Litoral' Coastal relief (head, tip...) 11 'Indret' Place, location 12 'Equipament' Equipment, installation, service 13 'Comunicacions' Communications (airport, tunnel...) 14 'Xarxa Hidrogr\u00e0fica' Hydrographic network (river, stream, stream...) 15 'Element Hidrogr\u00e0fic' Hydrographic elements (swamp, creek...) 16 'Barri' Urban neighborhood (only in centers with more than 50,000 inhabitants) 17 'Comarca' Comarca 20 'Edificaci\u00f3 Hist\u00f2rica' Building of historical or architectural value (hermitage, castle...) 22 'Disseminat' Disseminated population entity"},{"location":"versions/","title":"Version history","text":"Version Description Date 2.0 Adding postal addresses data 01/2023 2.1 Adding toponym data 02/2023 2.2 Automatic deployment 06/2023 2.3 Standardization OAS3 API (swagger and documentation) 07/2023 2.4 Add filter by type of toponym 11/2023 2.5 Add filter by 'comarca' and municipality 12/2023 2.6 Improvement in the filter by municipality 12/2023 2.7 Sorting of results according to layer 12/2023 2.8 Improve autocomplete search 01/2024 2.9 Improve direct address search (multiple requests) 01/2024 2.10 Improve ordering of results 02/2024 2.11 Incorporation of data from 'llogarets'' and BBOX of each street 03/2024 2.12 Incorporation of data from isolated buildings 04/2024 2.13 Changes in the prioritization of results 06/2024 2.14 Adding kilometric points data 11/2024"},{"location":"visor/","title":"1.6 Map viewer with queries to the ICGC Geocoder","text":"<p>The viewer https://eines.icgc.cat/geocodificador_visor/ is an example of using the ICGC geocoder, with requests for direct and reverse geocoding.</p> <p></p>"},{"location":"visor/#direct-geocoding","title":"Direct geocoding","text":"<p>It contains a search engine for addresses and place names: as the user types the text to be searched, requests are sent to the direct geocoding service, until the desired item and its location on the map are found.</p> <p> </p> <p>Submitted requests use the autocomplete operation with the text parameter containing the text entered by the user.</p> <p>An example of these requests is https://eines.icgc.cat/geocodificador/autocompletar?text=nou%203&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5</p>"},{"location":"visor/#reverse-geocoding","title":"Reverse geocoding","text":"<p>By clicking on the map, a reverse geocoding request is made, obtaining the postal address and place name closest to the indicated point within a radius of 500 meters.</p> <p> </p> <p>The sent requests use the reverse operation with the lon and lat parameters containing the point marked by the user.</p> <p>An example of these requests is https://eines.icgc.cat/geocodificador/invers?lat=41.81623479875584&amp;lon=2.4224853515625004&amp;size=1&amp;boundary.circle.radius=0.5&amp;layers=topo2, address</p>"},{"location":"visor/#prioritization-of-results","title":"Prioritization of results","text":"<p>If the Prioritize results near the center of the map box is checked, the results closest to the center of the map are displayed first in the list of results.</p> <p> </p> <p>The center point of the map is indicated in the focus.point.lat and focus.point.lon parameters.</p> <p>An example of a request is https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;focus.point.lat=41.97952806717199&amp;focus.point.lon=2.8178000450134277&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5 </p> <p></p>"},{"location":"visor/#type-of-elements-to-search","title":"Type of elements to search","text":"<p>The searched elements belong to one of the following layers (indicated in the layers parameter):</p> <ul> <li> <p>topo1: toponyms referring to population groups (municipalities, capitals of municipalities, population entities, disseminated and neighborhoods), showing first the toponyms that are name or capital of municipality. They appear in the list of results with the prefix (population).</p> </li> <li> <p>topo2: rest of toponyms. They appear in the list of results with the prefix (place name).</p> </li> <li> <p>address: portals. They appear in the list of results with the prefix (portal).</p> </li> </ul>"},{"location":"visor/#maximum-number-of-results","title":"Maximum number of results","text":"<p>The size parameter has been set to 5, to display at most 5 elements from each layer.</p>"},{"location":"visor/#query-of-the-type-of-toponyms","title":"Query of the type of toponyms","text":"<p>When placing the cursor over a  topo1 or topo2 element, toponym type is displayed (addendum.type field):</p> <p></p>"},{"location":"visor/#download","title":"Download","text":"<p>It can be downloaded from: https://github.com/OpenICGC/leaflet-geocodericgc-plugin</p>"},{"location":"visor/#implementation","title":"Implementation","text":"<p>It has been implemented with the Leaflet library, using the leaflet-geocoder-mapzen plugin.</p> <p>leaflet-geocoder-mapzen plugin is used https://www.npmjs.com/package/leaflet-geocoder-mapzen {target=\"_blank\"}, which has been modified to manage the size and focus parameters, the prefix and tooltip of each result (addendum.type field in the case of toponyms) and the zoom level of the map (addendum.zoom field in the case of toponyms)</p> <pre><code>&lt;!--Upload Leaflet code from the cdn --&gt;\n&lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.css\"&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.js\"&gt;&lt;/script&gt;\n\n&lt;!-- Download Mapzen Geocoding Leaflet plugin --&gt;\n&lt;script src=\"js/leaflet-geocoder.js\"&gt;&lt;/script&gt;\n\n// Create the map\nvar map = L.map('map', {\n        center: [41.431, 1.8580],\n        zoom: 8,\n        minZoom: 2,\n        maxZoom: 18,\n        scrollWheelZoom: true,\n        zoomControl: false\n      });\n\nvar geocodingOptions = {\n        url: 'https://eines.icgc.cat/geocodificador',\n        expanded: true,\n        autocomplete: true,\n        layers: \"topo1,topo2,address\",\n        size: 5,\n        focus: false,\n        panToPoint: true\n      };\n      geoc\nL.control.geocoder(geocodingOptions).addTo(map);\n</code></pre>"},{"location":"visor/#code-to-embed-the-viewer","title":"Code to embed the viewer","text":"<p>To embed the viewer on your website, copy and paste the following text: <pre><code>&lt;iframe width=\"100%\" height=\"500\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\" src=\"https://eines.icgc.cat/geocodificador_visor/\" &gt; &lt;/iframe&gt;\n</code></pre></p>"},{"location":"visor/#pwa-functionality","title":"PWA functionality","text":"<p>The Leaflet viewer https://eines.icgc.cat/geocodificador_visor/ is a progressive web application (PWA) that presents the possibility to be downloaded and launched from the main screen or application menu of any device with a web browser.</p> <p>To install the app, in Chrome:</p> <p>Windows </p> <p></p> <p>Android </p> <p></p>"}]}